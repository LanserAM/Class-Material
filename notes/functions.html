<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="latexinput" content="mmd-article-header"/>
	<title>Writing Functions in R</title>
	<meta name="affiliation" content="Bios301"/>
	<meta name="author" content="Christopher J. Fonnesbeck"/>
	<meta name="date" content="Fall 2012"/>
	<meta name="latexmode" content="memoir"/>
<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	<meta name="latexinput" content="mmd-article-begin-doc"/>
	<meta name="latexfooter" content="mmd-memoir-footer"/>
</head>
<body>

<!-- See lecture 1 from Shalizi course -->

<p>Rather than writing code procedurally, like a script, it is usually more efficient to discretize code into functions. This is particularly the case for code that you wish to re-use in multiple places or times. Not only does it save time and space, by not having to re-type the same sections of code in multiple places, but also reduces the likelihood of error propogation and improves the maintainability of code.</p>

<p>You should be familiar with functions in a mathematical sense, whereby one or more <em>arguments</em> are plugged in as values for variables in a formula, yielding an output value. Similarly, most programming languages allow for the writing of functions that encapsulate a series of calculations, usually involving argument values passed from other code, and often returning a value or data structure to be used by the caller. For example, we may write a function that estimates the parameters of a linear model, accepting predictor and response variable as arguments, and returning a vector of calculated parameters. Alternately, a function may be used to draw a graph. In this case, there is no return value <em>per se</em>, but a window may pop up containing a plot. This is known as a <em>side-effect</em>.</p>

<p>In R, a function can be defined using the following syntax:</p>

<pre><code>a_function &lt;- function(an_argument, another_argument) {
    # Do something to the arguments
    value &lt;- an_argument^2 + 3 * another_argument
    # Return the calculated value
    return(value)
}
</code></pre>

<h2 id="astatisticalfunction">A statistical function</h2>

<p>Lets look at an example of writing a statistical function. Here, we will consider a useful, but somewhat obscure distribution: the <a href="http://en.wikipedia.org/wiki/Pareto_distribution">Pareto distribution</a>. The Pareto is best known for describing the 80/20 rule. Its probability distribution function is as follows:</p>

<p><span class="math">\[f(x|a,c) = \frac{ca^c}{x^{c+1}}\]</span></p>

<p>where <span class="math">\(a \le x < \infty\)</span> and <span class="math">\(a,c > 0\)</span>. The cumulative distritbution function (CDF), which describes the total probability of all values up to and including <span class="math">\(x\)</span>, is specified by:</p>

<p><span class="math">\[F(x|a,c) = 1 - (a/x)^c\]</span></p>

<p>Whereas, the inverse distribution function, which returns the value of <span class="math">\(x\)</span> for which the cumulative probability is <span class="math">\(p\)</span>, is calculated by:</p>

<p><span class="math">\[Q(p|a,x) = a(1-p)^{-1/c}\]</span></p>

</body>
</html>
